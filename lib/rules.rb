#PENDING: CHECK IF NEXT MOVE ENABLES MATE
#PENDING: CHECK IF ALREADY CASTLED
#PENDING: PROMOTION